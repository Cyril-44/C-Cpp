<% use obfui::cmn;    my ($lines,%opts) = @_; %>
<%= sprintf(__('Note: this map is being generated automatically during build of the project. It\'s stored as a file named %s in the  project\'s State Directory, so clearing project state files clears that file too.'),
    $opts{fname}) %>
<p>
<% if (!@$lines) { %>
    <%= __('The map is empty, this may be due to the fact that the project hasn\'t been built yet or the state files were cleared recently.') %>
<% } else { %>


<center>
<table class=symlist>
<thead>
<tr><th class=name><%= __('Original') %></th><th class=mode><%= __('Resulting') %></th>
<tbody>
<%
    my %hlines;
    {
        foreach (@$lines) {
            next if $_ !~ m/^([^|]+)\|([^|]+)/;
            my ($from,$to) = ($1,$2);

            $hlines{$from} = $to;
        }
    }
    my $idx;
    foreach (sort keys %hlines) {
        ++$idx;
        my ($from,$to) = ($_,$hlines{$_});
%>
<tr class=direntry<%? ($idx %2) %> ><td><%= $from %></td><td><%= $to %></td>
<% } %>
</table>
<p>
<a class=noul href=filenames.view.<%= $opts{what} %>names_map_src><%= __('Download list of encountered symbols in code from input files') %></a>
</center>
<% }  %>
<center>
<p><% $forge->include('wgt-backbtn',__('Back')) %>
</center>

