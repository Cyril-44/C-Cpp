<%
    use obfui::cmn;
    my ($html,$cfgref) = @_;
%>

<% $forge->include('wgt-init-filesysbrowser',$cfgref) %>

<div class=stretchformfields>
<form>
<input type=hidden name=havevals value=1>
<table class=WASwidth-of-select>
<tr><td><%$ hstr('prj.title',__("Project title:")) %></td><td class=width-of-select>
    <input required class=text type=text name=title placeholder="My project title"></td>

<tr><td><%$ hstr('prj.indir',__("Input directory name:")) %></td><td class=width-of-select>
    <input required class=text type=text name=indir id=indir
	placeholder="put full path or click '..' to browse for it"
	></td><td><script language=javascript>
	<!--
	    fsb_add_dir_browser(document.getElementById('indir'),'');
	-->
	</script>
</td>
<tr><td><%$ hstr('prj.outdir',__("Output directory name:")) %></td><td class=width-of-select>
    <input required class=text placeholder="../outdir" type=text name=outdir id=outdir></td><td><script language=javascript>
	<!--
	    fsb_add_dir_browser(document.getElementById('outdir'),'');
	-->
	</script>
</td>
<tr><td><%$ hstr('prj.stdir',__("State directory name:")) %></td><td class=width-of-select>
    <input required class=text placeholder="../statedir" type=text name=stdir id=stdir></td><td><script language=javascript>
	<!--
	    fsb_add_dir_browser(document.getElementById('stdir'),'');
	-->
	</script>
</td>
<% if (length($html)) { %>
<tr><td><%$ hstr('prj.codetype',__("Code type (optional):")) %></td><td class=width-of-select
	><%$ $html %></td>
<% } %>
</table>



<% $forge->include('wgt-optional-start','prjopts') %>
<table>
<tr><td><%$ hstr('prj.testcmd',
	__("Commandline to run for testing (optional):")) %></td><td class=width-of-select>
    <input class=text type=text name=testcmdline></td>
<tr><td><%$ hstr('prj.precmdline',
	__("Commandline to run BEFORE building project:")) %></td><td class=width-of-select>
    <input class=text type=text name=precmdline></td>
<tr><td><%$ hstr('prj.postcmdline',
	__("Commandline to run AFTER building project:")) %></td><td class=width-of-select>
    <input class=text type=text name=postcmdline></td>

<tr><td><%$ hstr('prj.description',
	__("Project description:")) %>
<%
    my $placeholder = "Put project description here. HTML markup allowed, including links. It will be shown as tooltip in Project-Open screen";
    my $description_html = '</td><tr><td colspan=2><textarea name=description style="width:100%" rows=7 placeholder="' .
            $placeholder . '">' . '</textarea></td>';
%>
    <%$ $description_html %>
</table>
<%$ __('Once your create the project, you can go to Settings &rArr; Options to configure some other advanced project properties.') %>

<% $forge->include('wgt-optional-end','prjopts') %>
<p>




<% $forge->include('wgt-submitbtn', __('OK')) %>
</form>
</div>